---
# Copyright 2018 Yahoo Holdings. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.
title: "Vespa 7 Release Notes"
---

<p>
  This document contains a summary of the most significant changes between Vespa 6 and the
  new major release Vespa 7.
</p>



<h2 id="changes">Changes</h2>

<h3 id="java">Java apis</h3>
<p>
All or most classes and methods that were marked as deprecated in Vespa 6 have been
removed. If you get deprecation warnings for Vespa apis when building your
project, they must be fixed before migrating to Vespa 7. 
</p>


<h3 id="http-and-cli">HTTP apis and command line tools</h3>
<p>
The following HTTP apis and command line tools are no longer available:
</p>
<table class="table">
  <thead>
    <tr>
      <th>Name</th><th>Replacement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Vespa spooler</td>
      <td>Vespa HTTP client</td>
    </tr>
<!-- TODO: remove or update according to what we actually remove.
    <tr>
      <td>Legacy HTTP apis for document feeding:
        <ul>
          <li>/feed</li>
          <li>/remove</li>
          <li>/removelocation</li>
          <li>/get</li>
          <li>/visit</li>
          <li>/document</li>
        </ul>
      </td>
      <td>The /document/v1 api and/or the Java feed client api</td>
    </tr>
-->
  </tbody>
</table>



<h3 id="services-xml">services.xml</h3>
<p>
The following tags or attributes are removed from services.xml:
</p>

<table class="table">
  <thead>
    <tr>
      <th>Name</th><th>Replacement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>‘rotationScheme’ attribute in &lt;container&gt;&lt;accesslog&gt;</td>
      <td>None, rotation scheme ‘date’ will always be used</td>
    </tr>
    <tr>
      <td>&lt;container&gt;&lt;filter&gt; tag</td>
      <td>&lt;container&gt;&lt;http&gt;&lt;filtering&gt;</td>
    </tr>
  </tbody>
</table>



<h3 id="metrics">Metrics</h3>
<p>
The following metrics are removed:
</p>

<table class="table">
  <thead>
    <tr>
      <th>Name</th><th>Replacement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>free/used/totalMemoryBytes</td>
      <td>mem.heap.free/used/total</td>
    </tr>
    <tr>
      <td>http.in.bytes</td>
      <td>serverBytesReceived</td>
    </tr>
    <tr>
      <td>http.out.bytes</td>
      <td>serverBytesSent</td>
    </tr>
    <tr>
      <td>http.requests</td>
      <td>serverNumRequests</td>
    </tr>
    <tr>
      <td>http.latency</td>
      <td>serverTotalSuccessfulResponseLatency</td>
    </tr>
    <tr>
      <td>http.out.firstbytetime</td>
      <td>serverTimeToFirstByte</td>
    </tr>
    <tr>
      <td>proc.uptime</td>
      <td>serverStartedMillis</td>
    </tr>
  </tbody>
</table>



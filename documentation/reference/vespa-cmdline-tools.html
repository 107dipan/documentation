---
# Copyright 2017 Yahoo Holdings. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.
title: "Vespa command-line tools"
---

<p>
This is the reference for the Vespa command-line tools.
</p>

<!--h2 id="vespa-attribute-inspect">vespa-attribute-inspect</h2-->
<!--h2 id="vespa-config-ctl">vespa-config-ctl</h2-->
<!--h2 id="vespa-config-loadtester">vespa-config-loadtester</h2-->



<h2 id="vespa-configproxy-cmd">vespa-configproxy-cmd</h2>
<p>
<em>vespa-configproxy-cmd</em> is a status and control tool for the
<a href="config-proxy.html">config proxy</a>.
The config proxy runs on all nodes as a proxy for one or more
<a href="../cloudconfig/configuration-server.html">config servers</a>.
It connects to the config proxy on localhost by default.
</p><p>
Synopsis: <code>vespa-configproxy-cmd -m method [args]</code>
</p><p>
Example:
<pre>
$ vespa-configproxy-cmd -m sources
</pre>
Options
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-m</th>
      <td>
        method, available methods are:
        <table class="table">
          <thead></thead><tbody>
            <tr>
              <th>cache</th>
              <td>
                Output the config proxy cache content (overview)
              </td>
            </tr><tr>
              <th>gc</th>
              <td>
                <!-- ToDo -->
              </td>
            </tr><tr>
              <th>dumpcache</th>
              <td>
                <!-- ToDo -->
              </td>
            </tr><tr>
              <th>statistics</th>
              <td>
                <!-- ToDo -->
              </td>
            </tr><tr>
              <th>heap</th>
              <td>
                <!-- ToDo -->
              </td>
            </tr><tr>
              <th>getConfig</th>
              <td>
                Get config (see <a href="#vespa-get-config">vespa-get-config</a>)
              </td>
            </tr><tr>
              <th>getmode</th>
              <td>
                Outputs the current mode of the config proxy
              </td>
            </tr><tr>
              <th>setmode</th>
              <td>
                Use <em>default</em> or <em>memorycache</em> -
                <a href="config-proxy.html">example</a>
              </td><!-- ToDo need a list here - are more options supported? -->
            </tr><tr>
              <th>invalidatecache</th>
              <td>
                Clears the current cache in config proxy
              </td>
            </tr><tr>
              <th>cachefull</th>
              <td>
                Output the config proxy cache content (including config payload)
              </td>
            </tr><tr>
              <th>sources</th>
              <td>
                Output the config proxy's upstream config sources
              </td>
            </tr><tr>
              <th>updatesources</th>
              <td>
                Updates the config proxy's upstream config sources to the supplied ones
              </td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr><tr>
      <th>-p</th>
      <td>
        port number, optional
      </td>
    </tr><tr>
      <th>-s</th>
      <td>
        hostname, optional
      </td>
    </tr><tr>
      <th>-h</th>
      <td>
        help text and usage
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-configserver-remove-state">vespa-configserver-remove-state</h2-->
<!--h2 id="vespa-config-status">vespa-config-status</h2-->
<!--h2 id="vespa-config-verification">vespa-config-verification</h2-->
<!--h2 id="vespa-create-idx-from-dat">vespa-create-idx-from-dat</h2-->
<!--h2 id="vespa-deploy">vespa-deploy</h2-->
<!--h2 id="vespa-destination">vespa-destination</h2-->
<!--h2 id="vespa-doclocator">vespa-doclocator</h2-->
<!--h2 id="vespa-document-statistics">vespa-document-statistics</h2-->
<!--h2 id="vespa-documentstore-benchmark">vespa-documentstore-benchmark</h2-->
<!--h2 id="vespa-documentstore-inspect">vespa-documentstore-inspect</h2-->
<!--h2 id="vespa-eval-expr">vespa-eval-expr</h2-->
<!--h2 id="vespa-expand-config.pl">vespa-expand-config.pl</h2-->
<!--h2 id="vespa-external-providerproxy-conformancetest">vespa-external-providerproxy-conformancetest</h2-->
<!--h2 id="vespa-fbench">vespa-fbench</h2-->
<!--h2 id="vespa-fbench-filter-file">vespa-fbench-filter-file</h2-->
<!--h2 id="vespa-fbench-geturl">vespa-fbench-geturl</h2-->
<!--h2 id="vespa-fbench-result-filter.pl">vespa-fbench-result-filter.pl</h2-->
<!--h2 id="vespa-fbench-split-file">vespa-fbench-split-file</h2-->



<h2 id="vespa-feeder">vespa-feeder</h2>
<p>
<a href="vespa-feeder.html">vespa-feeder</a> is a feeding client that parses JSON input
as Vespa document operations and sends to a Vespa application.
</p>



<!--h2 id="vespa-fileheader-inspect">vespa-fileheader-inspect</h2-->
<!--h2 id="vespa-fsadump">vespa-fsadump</h2-->
<!--h2 id="vespa-fsainfo">vespa-fsainfo</h2-->
<!--h2 id="vespa-gbdt-converter">vespa-gbdt-converter</h2-->
<!--h2 id="vespa-gen-testdocs">vespa-gen-testdocs</h2-->



<h2 id="vespa-get">vespa-get</h2>
<p>
<em>vespa-get</em> retrieves documents from a Vespa content cluster, and prints to <em>stdout</em>.
<em>vespa-get</em> retrieves documents identified by the document ids passed as command line arguments.
If no document ids are passed through the command line interface,
ids will be read from <em>stdin</em> - separated by line breaks.
</p><p>
Synopsis: <code>vespa-get &lt;options&gt; [documentid...]</code>
</p><p>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-a,--trace <em>tracelevel</em></th>
      <td>Trace level to use (default 0)</td>
    </tr><tr>
      <th>-c,--configid <em>configid</em></th><!-- ToDo link to config id -->
      <td>Use the specified config id for messagebus configuration</td>
    </tr><tr>
      <th>-f,--fieldset <em>fieldset</em></th>
      <td>Retrieve the specified fields only
        (see <a href="../documents.html#fieldsets">Document field sets</a>) (default '[all]')</td>
    </tr><tr>
      <th>-h,--help</th>
      <td>Show this syntax page</td>
    </tr><tr>
      <th>-i,--printids</th>
      <td>Show only identifiers of retrieved documents</td>
    </tr><tr>
      <th>-j,--jsonoutput</th>
      <td>JSON output</td>
    </tr><tr>
      <th>-l,--loadtype <em>loadtype</em></th><!-- ToDo link to loadtypes -->
      <td>Load type (default "")</td>
    </tr><tr>
      <th>-n,--noretry</th>
      <td>Do not retry operation on transient errors, as is default</td>
    </tr><tr>
      <th>-p,--priority <em>priority</em></th>
      <td>Priority (default 6)</td>
    </tr><tr>
      <th>-r,--route <em>route</em></th>
      <td>Send request to the given messagebus route</td>
    </tr><tr>
      <th>-s,--showdocsize</th>
      <td>Show binary size of document</td>
    </tr><tr>
      <th>-t,--timeout <em>timeout</em></th>
      <td>Set timeout for the request in seconds (default 0)</td>
    </tr><tr>
      <th>-u,--cluster <em>cluster</em></th>
      <td>Send request to the given content cluster</td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-get-cluster-state">vespa-get-cluster-state</h2-->



<h2 id="vespa-get-config">vespa-get-config</h2>
<p>
<em>vespa-get-config</em> is a command line tool to get configuration
from a <a href="../cloudconfig/configuration-server.html">config server</a>
or <a href="config-proxy.html">config proxy</a>.
By default it connects to the config proxy on localhost, fetches config from its cache
and prints the config payload on stdout.
Configuration is addressed using name and <a href="../cloudconfig/configapi-dev.html#config-id">configId</a>.
If configId is omitted, the global and default data for that name is returned.
The default port number is 19090, the config proxy's port - use 19070 to access a  config server.
Also check <a href="files-processes-and-ports.html">ports</a>.
</p><p>
Synopsis: <code>vespa-get-config -n defName -i configId &lt;option&gt; [args]</code>
</p><p>
Example:
<pre>
$ vespa-get-config -n container.statistics -i search/cluster.search
</pre>
</p><p>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-n</th>
      <td>
        config definition name, including namespace (on the form &lt;namespace&gt;.&lt;name&gt;)
      </td>
    </tr><tr>
      <th>-i</th>
      <td>
        config id, optional
      </td>
    </tr><tr>
      <th>-a</th>
      <td>
        config def schema file, optional (if you want to use another schema than known for the config server)
      </td>
    </tr><tr>
      <th>-m</th>
      <td>
        defMd5, optional
      </td>
    </tr><tr>
      <th>-c</th>
      <td>
        configMd5, optional
      </td>
    </tr><tr>
      <th>-t</th>
      <td>
        server timeout, in seconds, default value 3, optional
      </td>
    </tr><tr>
      <th>-w</th>
      <td>
        timeout, default value 10, optional
      </td>
    </tr><tr>
      <th>-s</th>
      <td>
        server hostname, default localhost, optional
      </td>
    </tr><tr>
      <th>-p</th>
      <td>
        port, default 19090, optional
      </td>
    </tr><tr>
      <th>-d</th>
      <td>
        debug mode, optional
      </td>
    </tr><tr>
      <th>-h</th>
      <td>
        help text and usage
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-get-node-state">vespa-get-node-state</h2-->
<!--h2 id="vespa-index-inspect">vespa-index-inspect</h2-->
<!--h2 id="vespa-log-conv">vespa-log-conv</h2-->
<!--h2 id="vespa-logctl">vespa-logctl</h2-->



<h2 id="vespa-logfmt">vespa-logfmt</h2>
<p>
<code>vespa-logfmt</code> reads Vespa log files, selects messages,
and writes a formatted version of these messages to standard output.
If no file argument is given, vespa-logfmt will read the last Vespa log
file <code>$VESPA_HOME/logs/vespa/vespa.log</code>
(this also works with the <code>-f</code> option).
Otherwise, reads only the files given as arguments.
To read standard input, supply a single dash ’-’ as a file argument.
Refer to the <a href="logs.html">logs reference</a>.
</p><p>
Synopsis: <code>
vespa-logfmt [-l levellist ] [-s fieldlist ] [-p pid ] [-S service ] [-Hhost ]
[-c regex ] [-m regex ] [-f ] [-N ] [-t ] [-ts ] [file &hellip;]</code>
</p><p>
Examples:
</p><p>
Display only messages with log level "event", printing a
human-readable time (without any fractional seconds),
the service generating the event and the event message:
<pre>
$ vespa-logfmt -l event -s fmttime,service,message
...
[2017-09-05 06:16:16] config-sentinel  stopped/1 name="sbin/vespa-config-sentinel -c hosts/vespa-container (pid 1558)" pid=1558 exitcode=1
[2017-09-05 06:16:16] config-sentinel  starting/1 name="sbin/vespa-config-sentinel -c hosts/vespa-container (pid 1564)"
[2017-09-05 06:16:16] config-sentinel  started/1 name="config-sentinel"
[2017-09-05 06:17:00] configserver     count/1 name=configserver.failedRequests value=0
[2017-09-05 06:17:00] configserver     count/1 name=procTime value=0
[2017-09-05 06:17:00] configserver     count/1 name=configserver.requests value=0
</pre>
Display messages with log levels that are <em>not</em> any of
<em>info, debug,</em> or <em>event,</em> printing the time in seconds
and microseconds, the log level, the component name, and the message text:
<pre>
$ vespa-logfmt -l all-info,-debug -s level -s time,usecs,component,message -t -l -event
...
1504592294.738000 WARNING : configproxy.com No config found for name=sentinel,namespace=cloud.config,configId=hosts/vespa-container within timeout, will retry
1504592296.388000 WARNING : configproxy.com Request callback failed: APPLICATION_NOT_LOADED. Connection spec: tcp/localhost:19070, error message: Failed request (No application exists) from Connection { Socket[addr=/127.0.0.1,port=37806,localport=19070] }
1504592307.949461 WARNING : config-sentinel Connection to tcp/localhost:19090 failed or timed out
1504592307.949587 WARNING : config-sentinel FRT Connection tcp/localhost:19090 suspended until 2017-09-05 06:19:07 GMT
</pre>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th style="white-space:nowrap;">-l <em>levellist</em> (--level=<em>levellist</em>)</th>
      <td>
        Filter messages by log level. By default only messages of
        level <em>fatal, error, warning</em>, and <em>info</em> will be
        included, while messages of level <em>config, event, debug</em>,
        and <em>spam</em> will be ignored. This option allows you to replace
        or modify the list of log levels to be included.
        <em>levellist</em> is a comma separated list of level names.
        <ul>
          <li>The name <em>all</em> may be used to add all known levels</li>
          <li>You may use + or - in front of terms to add or remove from the
            current (or default) list of levels instead of replacing it</li>
          <li>Adding term</li>
        </ul>
      </td>
    </tr><tr>
      <th>-s <em>fieldlist</em></th>
      <td>Select which fields of log messages to show.
        The output field order is fixed.
        When using this option, only the named fields will be printed.
        The default fields are as
        [<strong>-s fmttime,msecs,level,service,component,message</strong>].
        The fieldlist is a comma separated list of field names.
        The name <em>all</em> may be used to add all possible fields.
        Prepending a minus sign will turn off display of the named field.
        Starting the list with a plus sign will add and remove fields
        from the current (or default) list of fields instead of replacing it.
        Using this option several times works as if the given <em>fieldlist</em> arguments
        had been concatenated into one comma-separated list. Fields:
        <table class="table">
          <thead></thead><tbody>
            <tr>
              <th>time</th>
              <td>
                Print the time in seconds since the epoch.
                Ignored if <em>fmttime</em> is shown
              </td>
            </tr><tr>
              <th>fmttime</th>
              <td>
                Print the time in human-readable [YYYY-MM-DD HH:mm:ss] format.
                Note that the time is printed in the local timezone;
                to get GMT output, use <code>env TZ=GMT vespa-logfmt</code>
              </td>
            </tr><tr>
              <th>msecs</th>
              <td>
                Add milliseconds after the seconds in <em>time</em> and
                <em>fmttime</em> output. Ignored if <em>usecs</em> is in effect
              </td>
            </tr><tr>
              <th>usecs</th>
              <td>
                Add microseconds after the seconds in <em>time</em> and <em>fmttime</em> output
              </td>
            </tr><tr>
              <th>host</th>
              <td>
                Print the hostname field
              </td>
            </tr><tr>
              <th>level</th>
              <td>
                Print the level field (uppercased)
              </td>
            </tr><tr>
              <th>pid</th>
              <td>
                Print the pid field
              </td>
            </tr><tr>
              <th>service</th>
              <td>
                Print the service field
              </td>
            </tr><tr>
              <th>component</th>
              <td>
                Print the component field
              </td>
            </tr><tr>
              <th>message</th>
              <td>
                Print the message text field. You probably always want to add this
              </td>
            </tr>
          </tbody>
        </table>
      </td>
    </tr><tr>
      <th>-p <em>pid</em></th>
      <td>
        Select messages where the pid field matches the <em>pid</em> string
      </td>
    </tr><tr>
      <th>-S <em>service</em></th>
      <td>
        Select messages where the service field matches the <em>service</em> string
      </td>
    </tr><tr>
      <th>-H <em>host</em></th>
      <td>
        Select messages where the hostname field matches the <em>host</em> string
      </td>
    </tr><tr>
      <th>-c <em>regex</em></th>
      <td>
        Select messages where the component field matches the <em>regex</em>,
        using perlre regular expression matching
      </td>
    </tr><tr>
      <th>-m <em>regex</em></th>
      <td>
        Select messages where the message text field matches the <em>regex</em>,
        using perlre regular expression matching
      </td>
    </tr><tr>
      <th>-f</th>
      <td>
        Invoke tail -F to follow input file
      </td>
    </tr><tr>
      <th>-L  (--livestream)</th>
      <td>
        Only useful for multi-machine setups: Invoke vespa-replicate-log-stream
        to follow live stream from log server, instead of reading any input file.
        Also implies <strong>-s +host</strong> as default.
      </td>
    </tr><tr>
      <th>-N</th>
      <td>
        Dequote quoted newlines in the message text field to an actual newline plus tab
      </td>
    </tr><tr>
      <th>-t</th>
      <td>
        Format the component field (if shown) as a fixed-width string, truncating if necessary
      </td>
    </tr><tr>
      <th>-ts</th>
      <td>
        Format the service field (if shown) as a fixed-width string, truncating if necessary
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-log-replay">vespa-log-replay</h2-->
<!--h2 id="vespa-makefsa">vespa-makefsa</h2-->
<!--h2 id="vespa-malloc-parse-memorydump.pl">vespa-malloc-parse-memorydump.pl</h2-->



<h2 id="vespa-model-inspect">vespa-model-inspect</h2>
<p>
<em>vespa-model-inspect</em> is a tool for inspecting the topology and services of a Vespa system.
Hosts, services, clusters, ports, URLs and config ids can be inspected.
It can run on any machine in a Vespa cluster that is running a Vespa configuration server.
</p><p>
Synopsis: <code>vespa-model-inspect [-c host | host:port] [-t tag] [-h] [-u] [-v] command</code>
</p><p>
Commands:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>hosts</th>
      <td>
        Show hostnames of all hosts in the Vespa system
      </td>
    </tr><tr>
      <th>services</th>
      <td>
        Show a list of all service types in the Vespa system
      </td>
    </tr><tr>
      <th>clusters</th>
      <td>
        Show a list of all named clusters in the Vespa system
      </td>
    </tr><tr>
      <th>configids</th>
      <td>
        Show a list of all config ids in the Vespa system
      </td>
    </tr><tr>
      <th>filter:ports</th>
      <td>
        List ports matching filter options
      </td>
    </tr><tr>
      <th>host</code> <em>hostname</em></th>
      <td>
        Show host details: What services are running, and what ports have they allocated
      </td>
    </tr><tr>
      <th>service</code> <em>servicetype</em></th>
      <td>
        Show service details: What instances of the service are running,
        on what hosts, and what ports have they allocated
      </td>
    </tr><tr>
      <th>cluster</code> <em>clustername</em></th>
      <td>
        Show all services in the cluster, with details on hostname and allocated ports
      </td>
    </tr><tr>
      <th>configid</code> <em>configid</em></th>
      <td>
        Show all services using this configid
      </td>
    </tr><tr>
      <th>get-index-of</code> <em>servicetype</em> <em>host</em></th>
      <td>
        Show all indexes for instances of the service type on the given host
      </dd>
    </tr>
  </tbody>
</table>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th style="white-space:nowrap;">-c <em>host</em> | <em>host:port</em></th>
      <td>
        Specify host and port (or just host) to use for getting the config that this tool displays.
        Default is to use the configserver.
        You might want to use localhost:19090 if you are on a host with
        a running Vespa system without a config server
      </td>
    </tr><tr>
      <th>-h</th>
      <td>
        Show usage
      </td>
    </tr><tr>
      <th>-t <em>tag</em></th>
      <td>
        to filter on a port tag
      </td>
    </tr><tr>
      <th>-u</th>
      <td>
        Show URLs for services
      </td>
    </tr><tr>
      <th>-v</th>
      <td>
        Verbose mode
      </td>
    </tr>
  </tbody>
</table>
Examples:
<pre>
$ vespa-model-inspect hosts
mynode.mydomain.com

$ vespa-model-inspect services
config-sentinel
configproxy
configserver
container
container-clustercontroller
distributor
docprocservice
filedistributorservice
logd
logserver
searchnode
slobrok
storagenode
topleveldispatch
transactionlogserver

$ vespa-model-inspect -u service distributor
distributor @ myhost.mydomain.com : content
myapp/distributor/4
    tcp/myhost1.mydomain.com:19112 (MESSAGING)
    tcp/myhost1.mydomain.com:19113 (STATUS RPC)
    http://myhost1.mydomain.com:19114/ (STATE STATUS HTTP)
distributor @ myhost2.mydomain.com : content
myapp/distributor/5
    tcp/myhost2.mydomain.com:19112 (MESSAGING)
    tcp/myhost2.mydomain.com:19113 (STATUS RPC)
    http://myhost2.mydomain.com:19114/ (STATE STATUS HTTP)
distributor @ myhost3.mydomain.com : content
</pre>
</p>



<!--h2 id="vespa-ping-configproxy">vespa-ping-configproxy</h2-->
<!--h2 id="vespa-print-default">vespa-print-default</h2-->



<h2 id="vespa-proton-cmd">vespa-proton-cmd</h2>
Use <em>vespa-proton-cmd</em> to send commands to a search node.
</p><p>
The <em>hostspec</em> argument is one of (port|spec|--local|--id=name)
</p><p>
Synopsis: <code>vespa-proton-cmd HOSTSPEC COMMAND [ARGS]</code>
</p><p>
Use <a href="#vespa-model-inspect">vespa-model-inspect</a> to locate the search node ADMIN RPC port:
<pre>
$ vespa-model-inspect service searchnode
searchnode @ /mynode.myhost.com : search
music/search/cluster.music/0
    tcp/mynode.myhost.com:19108 (STATUS ADMIN RTC RPC)
    tcp/mynode.myhost.com:19109 (FS4)
    tcp/mynode.myhost.com:19110 (TEST HACK SRMP)
    tcp/mynode.myhost.com:19111 (ENGINES-PROVIDER RPC)
    tcp/mynode.myhost.com:19112 (STATE HEALTH JSON HTTP)
</pre>
Example:
<pre>
$ vespa-proton-cmd 19108 triggerFlush
  OK: flush trigger enabled
</pre>
Unless the <strong>-h</strong> or <strong>--help</strong> option is used,
one of these commands must be present:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>die</th>
      <td>
        Exit the proton application without cleanup
      </td>
    </tr><tr>
      <th>getConfigTime</th>
      <td>
        Get the oldest active config timestamp
      </td>
    </tr><tr>
      <th>getProtonStatus</th>
      <td>
        Get the current state of proton and its components
      </td>
    </tr><tr>
      <th>getState</th>
      <td>
        Get the current state of the search node
      </td>
    </tr><tr>
      <th>listDocTypes</th>
      <td>
        Get the current list of document types
      </td>
    </tr><tr>
      <th style="white-space:nowrap;">listSchema documentType</th>
      <td>
        Get the current schema for the given document type
      </td>
    </tr><tr>
      <th>monitor</th>
      <td>
        Get search node state changes since last invocation
      </td>
    </tr><tr>
      <th>disableSearching</th>
      <td>
        Disable searching on the search node.
        The Top Level Dispatcher will consider the search node down after this
        and no searches will be accepted by the search node.
      </td>
    </tr><tr>
      <th>enableSearching</th>
      <td>
        Enable searching on the search node (enabled by default).
        Searches will be accepted again after this
      </td>
    </tr><tr>
      <th>triggerFlush</th>
      <td>
        Tell the search node to trigger flush as soon as possible for all document types
      </td>
    </tr><tr>
      <th>prepareRestart</th>
      <td>
        Tell the search node to prepare for a restart by flushing a set of components to disk
        such that the time it takes to flush these components plus the time it takes to replay the transaction log
        after restart is as low as possible
      </td>
    </tr><tr>
      <th>wipeHistory</th>
      <td>Tell the search node to wipe history of previously removed fields</td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-query-profile-dump-tool">vespa-query-profile-dump-tool</h2-->
<!--h2 id="vespa-ranking-expression-analyzer">vespa-ranking-expression-analyzer</h2-->



<h2 id="vespa-remove-index">vespa-remove-index</h2>
<p>
<em>vespa-remove-index</em> is a command line tool to remove index data on a Vespa search node,
by wiping out selected files and subdirectories found in <em>$VESPA_HOME/var/db/vespa/</em>.
This process is irreversible and the indexes deleted can not be recovered.
</p><p>
Stop <em>services</em> before running <em>vespa-remove-index</em>.
</p><p>
Synopsis:<code>vespa-remove-index [-force] [-cluster name]</code>
</p><p>
Example:
<pre>
$ vespa-remove-index
[info] For cluster music distribution key 0 you have:
[info] 156 kilobytes of data in var/db/vespa/search/cluster.music/n0
Really to remove this vespa index? Type "yes" if you are sure ==> yes
[info] removing data:  rm -rf var/db/vespa/search/cluster.music/n0
[info] removed.
</pre>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>-force</th>
      <td>
        Do not require verification from the user before really removing index data
      </td>
    </tr><tr>
      <th>-cluster <em>name</em></th>
      <td>
        Only remove data for given cluster name
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-replicate-log-stream">vespa-replicate-log-stream</h2-->



<h2 id="vespa-route">vespa-route</h2>
<p>
<em>vespa-route</em> is a  tool to inspect Vespa routing configurations.
If file is set, it will be parsed as a feed
and the output will look similar to when using <a href="../document-api.html">Document API</a>
with trace enabled.
</p><p>
Synopsis: <code>vespa-route [options] [file]</code>
</p><p>
Example:
<pre>
$ vespa-route
There are 5 route(s):
    1. default
    2. music
    3. music-direct
    4. music-index
    5. storage/cluster.music

There are 2 hop(s):
    1. docproc/cluster.music.indexing/chain.indexing
    2. indexing
</pre>
Options:
<table class="table">
  <thead></thead><tbody>
    <tr>
      <th>--documentmanagerconfigid &lt;id&gt;</th>
      <td>
        Sets the config id that supplies document configuration
      </td>
    </tr><tr>
      <th>--dump</th>
      <td>
        Prints the complete content of the routing table
      </td>
    </tr><tr>
      <th>--help</th>
      <td>
        Prints this help</td>
    </tr><tr>
      <th>--hop &lt;name&gt;</th>
      <td>
        Prints detailed information about hop &lt;name&gt;
      </td>
    </tr><tr>
      <th>--hops</th>
      <td>
        Prints a list of all available hops</td>
    </tr><tr>
      <th>--identity &lt;id&gt;</th>
      <td>
        Sets the identity of message bus</td>
    </tr><tr>
      <th>--listenport &lt;num&gt;</th>
      <td>
        Sets the port message bus will listen to</td>
    </tr><tr>
      <th>--oosserverpattern &lt;id&gt;</th>
      <td>
        Sets the out-of-service server pattern for message bus
      </td>
    </tr><tr>
      <th>--protocol &lt;name&gt;</th>
      <td>
        Sets the name of the protocol whose routing to inspect</td>
    </tr><tr>
      <th>--route &lt;name&gt;</th>
      <td>
        Prints detailed information about route &lt;name&gt;</td>
    </tr><tr>
      <th>--routes</th>
      <td>
        Prints a list of all available routes</td>
    </tr><tr>
      <th>--routingconfigid &lt;id&gt;</th>
      <td>
        Sets the config id that supplies the routing tables</td>
    </tr><tr>
      <th>--services</th>
      <td>
        Prints a list of all available services</td>
    </tr><tr>
      <th>--slobrokconfigid &lt;id&gt;</th>
      <td>
        Sets the config id that supplies the slobrok server list</td>
    </tr><tr>
      <th>--trace &lt;num&gt;</th>
      <td>
        Sets the trace level to use when visualizing route
      </td>
    </tr><tr>
      <th>--verify</th>
      <td>
        All hops and routes are verified when routing
      </td>
    </tr>
  </tbody>
</table>
</p>



<!--h2 id="vespa-rpc-info">vespa-rpc-info</h2-->



<h2 id="vespa-rpc-invoke">vespa-rpc-invoke</h2>
<!-- ToDo: this should be better documented -->
<p>
Refer to <a href="../inspecting-java-services.html#debug-interface">vespa-rpc-invoke</a>.
</p>



<!--h2 id="vespa-rpc-proxy">vespa-rpc-proxy</h2-->
<!--h2 id="vespa-set-node-state">vespa-set-node-state</h2-->
<!--h2 id="vespa-slobrok-cmd">vespa-slobrok-cmd</h2-->
<!--h2 id="vespa-spoolmaster">vespa-spoolmaster</h2-->
<!--h2 id="vespa-stat">vespa-stat</h2-->
<!--h2 id="vespa-status-filedistribution">vespa-status-filedistribution</h2-->
<!--h2 id="vespa-summary-benchmark">vespa-summary-benchmark</h2-->
<!--h2 id="vespa-transactionlog-inspect">vespa-transactionlog-inspect</h2-->
<!--h2 id="vespa-treenet-converter">vespa-treenet-converter</h2-->
<!--h2 id="vespa-validate-application">vespa-validate-application</h2-->
<!--h2 id="vespa-verify-logdatastore">vespa-verify-logdatastore</h2-->
<!--h2 id="vespa-verify-ranksetup">vespa-verify-ranksetup</h2-->



<h2 id="vespa-visit">vespa-visit</h2>
<p>
Refer to <a href="../content/visiting.html">visiting</a>.
</p>



<!--h2 id="vespa-visit">vespa-visit-target</h2-->

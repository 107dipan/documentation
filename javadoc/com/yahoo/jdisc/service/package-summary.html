<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Fri Mar 31 07:36:48 UTC 2017 -->
<title>com.yahoo.jdisc.service</title>
<meta name="date" content="2017-03-31">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="com.yahoo.jdisc.service";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/yahoo/jdisc/http/filter/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../com/yahoo/jdisc/test/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/yahoo/jdisc/service/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<div class="header">
<p><a href="../../../../com/yahoo/api/annotations/PublicApi.html" title="annotation in com.yahoo.api.annotations">@PublicApi</a>
</p>
<h1 title="Package" class="title">Package&nbsp;com.yahoo.jdisc.service</h1>
<div class="docSummary">
<div class="block">Provides classes and interfaces for implementing a <a href="../../../../com/yahoo/jdisc/service/ClientProvider.html" title="interface in com.yahoo.jdisc.service"><code>ClientProvider</code></a> or
 a <a href="../../../../com/yahoo/jdisc/service/ServerProvider.html" title="interface in com.yahoo.jdisc.service"><code>ServerProvider</code></a>.</div>
</div>
<p>See:&nbsp;<a href="#package.description">Description</a></p>
</div>
<div class="contentContainer">
<ul class="blockList">
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Interface Summary table, listing interfaces, and an explanation">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/yahoo/jdisc/service/ClientProvider.html" title="interface in com.yahoo.jdisc.service">ClientProvider</a></td>
<td class="colLast">
<div class="block">This interface defines a component that is capable of acting as a client to an external server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/yahoo/jdisc/service/CurrentContainer.html" title="interface in com.yahoo.jdisc.service">CurrentContainer</a></td>
<td class="colLast">
<div class="block">This interface declares a method to retrieve a reference to the current <a href="../../../../com/yahoo/jdisc/Container.html" title="interface in com.yahoo.jdisc"><code>Container</code></a>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/yahoo/jdisc/service/ServerProvider.html" title="interface in com.yahoo.jdisc.service">ServerProvider</a></td>
<td class="colLast">
<div class="block">This interface defines a component that is capable of acting as a server for an external client.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Class Summary table, listing classes, and an explanation">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/yahoo/jdisc/service/AbstractClientProvider.html" title="class in com.yahoo.jdisc.service">AbstractClientProvider</a></td>
<td class="colLast">
<div class="block">This is a convenient parent class for <a href="../../../../com/yahoo/jdisc/service/ClientProvider.html" title="interface in com.yahoo.jdisc.service"><code>ClientProvider</code></a> with default implementations for all but the
 essential <a href="../../../../com/yahoo/jdisc/handler/RequestHandler.html#handleRequest-com.yahoo.jdisc.Request-com.yahoo.jdisc.handler.ResponseHandler-"><code>RequestHandler.handleRequest(Request, ResponseHandler)</code></a> method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/yahoo/jdisc/service/AbstractServerProvider.html" title="class in com.yahoo.jdisc.service">AbstractServerProvider</a></td>
<td class="colLast">
<div class="block">This is a convenient parent class for <a href="../../../../com/yahoo/jdisc/service/ServerProvider.html" title="interface in com.yahoo.jdisc.service"><code>ServerProvider</code></a> with default implementations for all but the
 essential <a href="../../../../com/yahoo/jdisc/service/ServerProvider.html#start--"><code>ServerProvider.start()</code></a> and <a href="../../../../com/yahoo/jdisc/service/ServerProvider.html#close--"><code>ServerProvider.close()</code></a> methods.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary" border="0" cellpadding="3" cellspacing="0" summary="Exception Summary table, listing exceptions, and an explanation">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/yahoo/jdisc/service/BindingSetNotFoundException.html" title="class in com.yahoo.jdisc.service">BindingSetNotFoundException</a></td>
<td class="colLast">
<div class="block">This exception is used to signal that a named <a href="../../../../com/yahoo/jdisc/application/BindingSet.html" title="class in com.yahoo.jdisc.application"><code>BindingSet</code></a> was not found.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><a href="../../../../com/yahoo/jdisc/service/ContainerNotReadyException.html" title="class in com.yahoo.jdisc.service">ContainerNotReadyException</a></td>
<td class="colLast">
<div class="block">This exception is used to signal that no <a href="../../../../com/yahoo/jdisc/Container.html" title="interface in com.yahoo.jdisc"><code>Container</code></a> is ready to serve <a href="../../../../com/yahoo/jdisc/Request.html" title="class in com.yahoo.jdisc"><code>Request</code></a>s.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><a href="../../../../com/yahoo/jdisc/service/NoBindingSetSelectedException.html" title="class in com.yahoo.jdisc.service">NoBindingSetSelectedException</a></td>
<td class="colLast">
<div class="block">This exception is used to signal that no <a href="../../../../com/yahoo/jdisc/application/BindingSet.html" title="class in com.yahoo.jdisc.application"><code>BindingSet</code></a> was selected for a given <a href="http://download.java.net/jdk8/docs/api/java/net/URI.html?is-external=true" title="class or interface in java.net"><code>URI</code></a>.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
<a name="package.description">
<!--   -->
</a>
<h2 title="Package com.yahoo.jdisc.service Description">Package com.yahoo.jdisc.service Description</h2>
<div class="block"><p>Provides classes and interfaces for implementing a <a href="../../../../com/yahoo/jdisc/service/ClientProvider.html" title="interface in com.yahoo.jdisc.service"><code>ClientProvider</code></a> or
 a <a href="../../../../com/yahoo/jdisc/service/ServerProvider.html" title="interface in com.yahoo.jdisc.service"><code>ServerProvider</code></a>.</p>

 <h3>ServerProvider</h3>
 <p>All <a href="../../../../com/yahoo/jdisc/Request.html" title="class in com.yahoo.jdisc"><code>Requests</code></a> that are processed in a jDISC application are created by
 ServerProviders. These are components created by the <a href="../../../../com/yahoo/jdisc/application/Application.html" title="interface in com.yahoo.jdisc.application"><code>Application</code></a>, and
 they are the parts of jDISC that accept incoming connections. The ServerProvider creates and dispatches Request
 instances to the <a href="../../../../com/yahoo/jdisc/service/CurrentContainer.html" title="interface in com.yahoo.jdisc.service"><code>CurrentContainer</code></a>. No Request is ever dispatched to a
 ServerProvider, so a ServerProvider is considered part of the Application and not part of a Container (as opposed to
 <a href="../../../../com/yahoo/jdisc/handler/RequestHandler.html" title="interface in com.yahoo.jdisc.handler"><code>RequestHandlers</code></a> and ClientProviders). To create a Request the
 ServerProvider first composes a URI on the form <code>&lt;scheme&gt;://localhost[:&lt;port&gt;]/&lt;path&gt;</code>
 that matches the content of the accepted connection, and passes that URI to the CurrentContainer interface. This
 creates a com.yahoo.jdisc.core.ContainerSnapshot that holds a reference to the <a href="../../../../com/yahoo/jdisc/Container.html" title="interface in com.yahoo.jdisc"><code>Container</code></a> that is currently active, and resolves the appropriate <a href="../../../../com/yahoo/jdisc/application/BindingSet.html" title="class in com.yahoo.jdisc.application"><code>BindingSet</code></a> for the given URI through the Application's <a href="../../../../com/yahoo/jdisc/application/BindingSetSelector.html" title="interface in com.yahoo.jdisc.application"><code>BindingSetSelector</code></a>. This snapshot becomes the context of the new
 Request to ensure that all further processing of that Request happens within the same Container instace. Finally, the
 appropriate RequestHandler is resolved by the selected BindingSet, and the Request is dispatched.</p>

<pre>
private final ServerProvider server;

&#64;Inject
MyApplication(CurrentContainer container) {
    server = new MyServerProvider(container);
    server.start();
}
</pre>

 <h3>ClientProvider</h3>
 <p>A ClientProvider extends the RequestHandler interface, adding a method for initiating the startup of the provider.
 This is to allow an Application to develop a common ClientProvider install path. As opposed to RequestHandlers that
 are bound to URIs with the "localhost" hostname that the ServerProviders use when creating a Request, a
 ClientProvider is typically bound using a hostname wildcard (the '*' character). Because BindingSet considers a
 wildcard match to be weaker than a verbatim match, only Requests with URIs that are not bound to a local
 RequestHandler are passed to the ClientProvider.</p>

<pre>
private final ClientProvider client;

&#64;Inject
MyApplication(ContainerActivator activator, CurrentContainer container) {
    client = new MyClientProvider();
    client.start();

    ContainerBuilder builder = activator.newContainerBuilder();
    builder.serverBindings().bind("http://localhost/*", new MyRequestHandler());
    builder.clientBindings().bind("http://&#42;/*", client);
    activator.activateContainer(builder);
}
</pre>

 <p>Because the dispatch to a ClientProvider uses the same mechanics as the dispatch to an ordinary RequestHandler
 (i.e. the BindingSet), it is possible to create a test-mode BindingSet and a test-aware BindingSetSelector which
 dispatches to mock-up RequestHandlers instead of remote servers. The immediate benefit of this is that regression
 tests can be run on an Application otherwise configured for production traffic, allowing you to stress actual
 production code instead of targeted-only unit tests. This is how you would install a custom BindingSetSelector:</p>

<pre>
&#64;Inject
MyApplication(ContainerActivator activator, CurrentContainer container) {
    ContainerBuilder builder = activator.newContainerBuilder();
    builder.clientBindings().bind("http://bing.com/*", new BingClientProvider());
    builder.clientBindings("test").bind("http://bing.com/*", new BingMockupProvider());
    builder.guiceModules().install(new MyBindingSetSelector());
    activator.activateContainer(builder);
}
</pre></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/yahoo/jdisc/package-summary.html"><code>com.yahoo.jdisc</code></a>, 
<a href="../../../../com/yahoo/jdisc/application/package-summary.html"><code>com.yahoo.jdisc.application</code></a>, 
<a href="../../../../com/yahoo/jdisc/handler/package-summary.html"><code>com.yahoo.jdisc.handler</code></a></dd>
</dl>
</div>
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/yahoo/jdisc/http/filter/package-summary.html">Prev&nbsp;Package</a></li>
<li><a href="../../../../com/yahoo/jdisc/test/package-summary.html">Next&nbsp;Package</a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/yahoo/jdisc/service/package-summary.html" target="_top">Frames</a></li>
<li><a href="package-summary.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

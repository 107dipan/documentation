<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Fri Mar 31 07:36:44 UTC 2017 -->
<title>ResourcePool</title>
<meta name="date" content="2017-03-31">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ResourcePool";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/yahoo/jdisc/application/OsgiHeader.html" title="class in com.yahoo.jdisc.application"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/yahoo/jdisc/application/ServerRepository.html" title="class in com.yahoo.jdisc.application"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/yahoo/jdisc/application/ResourcePool.html" target="_top">Frames</a></li>
<li><a href="ResourcePool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.yahoo.jdisc.application</div>
<h2 title="Class ResourcePool" class="title">Class ResourcePool</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../com/yahoo/jdisc/AbstractResource.html" title="class in com.yahoo.jdisc">com.yahoo.jdisc.AbstractResource</a></li>
<li>
<ul class="inheritance">
<li>com.yahoo.jdisc.application.ResourcePool</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc">SharedResource</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<hr>
<br>
<pre>public final class <a href="../../../../src-html/com/yahoo/jdisc/application/ResourcePool.html#line.60">ResourcePool</a>
extends <a href="../../../../com/yahoo/jdisc/AbstractResource.html" title="class in com.yahoo.jdisc">AbstractResource</a>
implements <a href="http://download.java.net/jdk8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></pre>
<div class="block"><p>This is a utility class to help manage <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc"><code>SharedResource</code></a>s while configuring a <a href="../../../../com/yahoo/jdisc/application/ContainerBuilder.html" title="class in com.yahoo.jdisc.application"><code>ContainerBuilder</code></a>. This
 class can still be used without a ContainerBuilder, albeit with the injection APIs (i.e. <a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#get-java.lang.Class-"><code>get(Class)</code></a> and
 <a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#get-com.google.inject.Key-"><code>get(com.google.inject.Key)</code></a>) disabled.</p>
 <p>The core problem with SharedResources is that they need to be tracked carefully to ensure exception safety in the
 code that creates and registers them with a ContainerBuilder. The code for this typically looks like this:</p>
 <pre>
 MyServerProvider serverProvider = null;
 MyRequestHandler requestHandler = null;
 try {
     serverProvider = builder.getInstance(MyServerProvider.class);
     serverProvider.start();
     containerBuilder.serverProviders().install(serverProvider);

     requestHandler = builder.getInstance(MyRequestHandler.class);
     containerBuilder.serverBindings().bind("http://host/path", requestHandler);

     containerActivator.activateContainer(containerBuilder);
 } finally {
     if (serverProvider != null) {
         serverProvider.release();
     }
     if (requestHandler != null) {
         requestHandler.release();
     }
 }
 </pre>

 <p>The ResourcePool helps remove the boiler-plate code used to track the resources from outside the try-finally
 block. Using the ResourcePool, the above snippet can be rewritten to the following:</p>
 <pre>
 try (ResourcePool resources = new ResourcePool(containerBuilder)) {
     ServerProvider serverProvider = resources.get(MyServerProvider.class);
     serverProvider.start();
     containerBuilder.serverProviders().install(serverProvider);

     RequestHandler requestHandler = resources.get(MyRequestHandler.class);
     containerBuilder.serverBindings().bind("http://host/path", requestHandler);

     containerActivator.activateContainer(containerBuilder);
 }
 </pre>

 <p>This class is not thread-safe.</p></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd><a href="mailto:simon@yahoo-inc.com">Simon Thoresen Hult</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.com.yahoo.jdisc.SharedResource">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.yahoo.jdisc.<a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc">SharedResource</a></h3>
<code><a href="../../../../com/yahoo/jdisc/SharedResource.html#DEBUG">DEBUG</a>, <a href="../../../../com/yahoo/jdisc/SharedResource.html#SYSTEM_PROPERTY_NAME_DEBUG">SYSTEM_PROPERTY_NAME_DEBUG</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#ResourcePool--">ResourcePool</a></span>()</code>
<div class="block">Creates a new instance of this class without a backing <a href="../../../../com/yahoo/jdisc/application/ContainerBuilder.html" title="class in com.yahoo.jdisc.application"><code>ContainerBuilder</code></a>.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#ResourcePool-com.yahoo.jdisc.application.ContainerBuilder-">ResourcePool</a></span>(<a href="../../../../com/yahoo/jdisc/application/ContainerBuilder.html" title="class in com.yahoo.jdisc.application">ContainerBuilder</a>&nbsp;builder)</code>
<div class="block">Creates a new instance of this class.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc">SharedResource</a>&gt;<br>T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#add-T-">add</a></span>(T&nbsp;t)</code>
<div class="block">Adds the given <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc"><code>SharedResource</code></a> to this ResourcePool.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#destroy--">destroy</a></span>()</code>
<div class="block">This method signals that this AbstractResource can dispose of any internal resources, and commence with shut
 down of any internal threads.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc">SharedResource</a>&gt;<br>T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#get-java.lang.Class-">get</a></span>(<a href="http://download.java.net/jdk8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</code>
<div class="block">Returns the appropriate instance for the given injection type.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc">SharedResource</a>&gt;<br>T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#get-com.google.inject.Key-">get</a></span>(com.google.inject.Key&lt;T&gt;&nbsp;key)</code>
<div class="block">Returns the appropriate instance for the given injection key.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc">SharedResource</a>&gt;<br>T</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#retain-T-">retain</a></span>(T&nbsp;t)</code>
<div class="block">Retains and adds the given <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc"><code>SharedResource</code></a> to this ResourcePool.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.com.yahoo.jdisc.AbstractResource">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;com.yahoo.jdisc.<a href="../../../../com/yahoo/jdisc/AbstractResource.html" title="class in com.yahoo.jdisc">AbstractResource</a></h3>
<code><a href="../../../../com/yahoo/jdisc/AbstractResource.html#currentState--">currentState</a>, <a href="../../../../com/yahoo/jdisc/AbstractResource.html#refer--">refer</a>, <a href="../../../../com/yahoo/jdisc/AbstractResource.html#release--">release</a>, <a href="../../../../com/yahoo/jdisc/AbstractResource.html#retainCount--">retainCount</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ResourcePool--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ResourcePool</h4>
<pre>public&nbsp;<a href="../../../../src-html/com/yahoo/jdisc/application/ResourcePool.html#line.70">ResourcePool</a>()</pre>
<div class="block"><p>Creates a new instance of this class without a backing <a href="../../../../com/yahoo/jdisc/application/ContainerBuilder.html" title="class in com.yahoo.jdisc.application"><code>ContainerBuilder</code></a>. A ResourcePool created with
 this constructor will throw a NullPointerException if either <a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#get-java.lang.Class-"><code>get(Class)</code></a> or <a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#get-com.google.inject.Key-"><code>get(Key)</code></a> is
 called.</p></div>
</li>
</ul>
<a name="ResourcePool-com.yahoo.jdisc.application.ContainerBuilder-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ResourcePool</h4>
<pre>public&nbsp;<a href="../../../../src-html/com/yahoo/jdisc/application/ResourcePool.html#line.80">ResourcePool</a>(<a href="../../../../com/yahoo/jdisc/application/ContainerBuilder.html" title="class in com.yahoo.jdisc.application">ContainerBuilder</a>&nbsp;builder)</pre>
<div class="block"><p>Creates a new instance of this class. All calls to <a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#get-java.lang.Class-"><code>get(Class)</code></a> and <a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#get-com.google.inject.Key-"><code>get(Key)</code></a> are forwarded to
 the <a href="../../../../com/yahoo/jdisc/application/ContainerBuilder.html" title="class in com.yahoo.jdisc.application"><code>ContainerBuilder</code></a> given to this constructor.</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>builder</code> - The ContainerBuilder that provides the injection functionality for this ResourcePool.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="add-com.yahoo.jdisc.SharedResource-">
<!--   -->
</a><a name="add-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;&lt;T extends <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc">SharedResource</a>&gt;&nbsp;T&nbsp;<a href="../../../../src-html/com/yahoo/jdisc/application/ResourcePool.html#line.93">add</a>(T&nbsp;t)</pre>
<div class="block"><p>Adds the given <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc"><code>SharedResource</code></a> to this ResourcePool. Note that this DOES NOT call <a href="../../../../com/yahoo/jdisc/SharedResource.html#refer--"><code>SharedResource.refer()</code></a>, as opposed to <a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#retain-T-"><code>retain(SharedResource)</code></a>. When this ResourcePool is
 destroyed, it will release the main reference to the resource (by calling <a href="../../../../com/yahoo/jdisc/SharedResource.html#release--"><code>SharedResource.release()</code></a>).</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The class of parameter <tt>t</tt>.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - The SharedResource to add.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The parameter <tt>t</tt>, to allow inlined calls to this function.</dd>
</dl>
</li>
</ul>
<a name="get-com.google.inject.Key-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;&lt;T extends <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc">SharedResource</a>&gt;&nbsp;T&nbsp;<a href="../../../../src-html/com/yahoo/jdisc/application/ResourcePool.html#line.118">get</a>(com.google.inject.Key&lt;T&gt;&nbsp;key)</pre>
<div class="block"><p>Returns the appropriate instance for the given injection key. Note that this DOES NOT call <a href="../../../../com/yahoo/jdisc/SharedResource.html#refer--"><code>SharedResource.refer()</code></a>. This is the equivalent of doing:</p>
 <pre>
 t = containerBuilder.getInstance(key);
 resourcePool.add(t);
 </pre>

 <p>When this ResourcePool is destroyed, it will release the main reference to the resource
 (by calling <a href="../../../../com/yahoo/jdisc/SharedResource.html#release--"><code>SharedResource.release()</code></a>).</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The class of the injection type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>key</code> - The injection key to return.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The appropriate instance of T.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.java.net/jdk8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - If this pool was constructed without a ContainerBuilder.</dd>
</dl>
</li>
</ul>
<a name="get-java.lang.Class-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>get</h4>
<pre>public&nbsp;&lt;T extends <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc">SharedResource</a>&gt;&nbsp;T&nbsp;<a href="../../../../src-html/com/yahoo/jdisc/application/ResourcePool.html#line.138">get</a>(<a href="http://download.java.net/jdk8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;type)</pre>
<div class="block"><p>Returns the appropriate instance for the given injection type. Note that this DOES NOT call <a href="../../../../com/yahoo/jdisc/SharedResource.html#refer--"><code>SharedResource.refer()</code></a>. This is the equivalent of doing:</p>
 <pre>
 t = containerBuilder.getInstance(type);
 resourcePool.add(t);
 </pre>

 <p>When this ResourcePool is destroyed, it will release the main reference to the resource
 (by calling <a href="../../../../com/yahoo/jdisc/SharedResource.html#release--"><code>SharedResource.release()</code></a>).</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The class of the injection type.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>type</code> - The injection type to return.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The appropriate instance of T.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.java.net/jdk8/docs/api/java/lang/NullPointerException.html?is-external=true" title="class or interface in java.lang">NullPointerException</a></code> - If this pool was constructed without a ContainerBuilder.</dd>
</dl>
</li>
</ul>
<a name="retain-com.yahoo.jdisc.SharedResource-">
<!--   -->
</a><a name="retain-T-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>retain</h4>
<pre>public&nbsp;&lt;T extends <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc">SharedResource</a>&gt;&nbsp;T&nbsp;<a href="../../../../src-html/com/yahoo/jdisc/application/ResourcePool.html#line.153">retain</a>(T&nbsp;t)</pre>
<div class="block"><p>Retains and adds the given <a href="../../../../com/yahoo/jdisc/SharedResource.html" title="interface in com.yahoo.jdisc"><code>SharedResource</code></a> to this ResourcePool. Note that this DOES call <a href="../../../../com/yahoo/jdisc/SharedResource.html#refer--"><code>SharedResource.refer()</code></a>, as opposed to <a href="../../../../com/yahoo/jdisc/application/ResourcePool.html#add-T-"><code>add(SharedResource)</code></a>.

 <p>When this ResourcePool is destroyed, it will release the resource reference returned by the
 <a href="../../../../com/yahoo/jdisc/SharedResource.html#refer--"><code>SharedResource.refer()</code></a> call.</p></div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - The class of parameter <tt>t</tt>.</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>t</code> - The SharedResource to retain and add.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The parameter <tt>t</tt>, to allow inlined calls to this function.</dd>
</dl>
</li>
</ul>
<a name="destroy--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>destroy</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/com/yahoo/jdisc/application/ResourcePool.html#line.159">destroy</a>()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from class:&nbsp;<code><a href="../../../../com/yahoo/jdisc/AbstractResource.html#destroy--">AbstractResource</a></code></span></div>
<div class="block"><p>This method signals that this AbstractResource can dispose of any internal resources, and commence with shut
 down of any internal threads. This will be called once the reference count of this resource reaches zero.</p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../../com/yahoo/jdisc/AbstractResource.html#destroy--">destroy</a></code>&nbsp;in class&nbsp;<code><a href="../../../../com/yahoo/jdisc/AbstractResource.html" title="class in com.yahoo.jdisc">AbstractResource</a></code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/com/yahoo/jdisc/application/ResourcePool.html#line.166">close</a>()
           throws <a href="http://download.java.net/jdk8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://download.java.net/jdk8/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.java.net/jdk8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.java.net/jdk8/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/yahoo/jdisc/application/OsgiHeader.html" title="class in com.yahoo.jdisc.application"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/yahoo/jdisc/application/ServerRepository.html" title="class in com.yahoo.jdisc.application"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/yahoo/jdisc/application/ResourcePool.html" target="_top">Frames</a></li>
<li><a href="ResourcePool.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

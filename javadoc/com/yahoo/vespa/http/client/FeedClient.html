<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Fri Mar 31 07:36:48 UTC 2017 -->
<title>FeedClient</title>
<meta name="date" content="2017-03-31">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FeedClient";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":17,"i2":17,"i3":6,"i4":6,"i5":6};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/yahoo/vespa/http/client/FeedClient.ResultCallback.html" title="interface in com.yahoo.vespa.http.client"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yahoo/vespa/http/client/FeedClient.html" target="_top">Frames</a></li>
<li><a href="FeedClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.yahoo.vespa.http.client</div>
<h2 title="Interface FeedClient" class="title">Interface FeedClient</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Superinterfaces:</dt>
<dd><a href="http://download.java.net/jdk8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></dd>
</dl>
<hr>
<br>
<pre>public interface <a href="../../../../../src-html/com/yahoo/vespa/http/client/FeedClient.html#line.22">FeedClient</a>
extends <a href="http://download.java.net/jdk8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></pre>
<div class="block">API for feeding document operations (add, removes or updates) to one or many Vespa clusters.
 Use the factory to configure and set up an instance of this API.
 The feedclient does automatically error recovery and reconnects to hosts when
 connections die.

 A <a href="../../../../../com/yahoo/vespa/http/client/FeedClientFactory.html" title="class in com.yahoo.vespa.http.client"><code>FeedClientFactory</code></a> is provided to instantiate Sessions.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>5.29.0</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>dybis</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../com/yahoo/vespa/http/client/FeedClientFactory.html" title="class in com.yahoo.vespa.http.client"><code>FeedClientFactory</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Interface and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yahoo/vespa/http/client/FeedClient.ResultCallback.html" title="interface in com.yahoo.vespa.http.client">FeedClient.ResultCallback</a></span></code>
<div class="block">This callback is executed when new results are arriving.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yahoo/vespa/http/client/FeedClient.html#close--">close</a></span>()</code>
<div class="block">Waits for all results to arrive and closes the FeedClient.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yahoo/vespa/http/client/FeedClient.html#feedJson-java.io.InputStream-com.yahoo.vespa.http.client.FeedClient-java.util.concurrent.atomic.AtomicInteger-">feedJson</a></span>(<a href="http://download.java.net/jdk8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;inputStream,
        <a href="../../../../../com/yahoo/vespa/http/client/FeedClient.html" title="interface in com.yahoo.vespa.http.client">FeedClient</a>&nbsp;feedClient,
        <a href="http://download.java.net/jdk8/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&nbsp;numSent)</code>
<div class="block">Utility function that takes an array of JSON documents and calls the FeedClient for each element.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yahoo/vespa/http/client/FeedClient.html#feedXml-java.io.InputStream-com.yahoo.vespa.http.client.FeedClient-java.util.concurrent.atomic.AtomicInteger-">feedXml</a></span>(<a href="http://download.java.net/jdk8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;inputStream,
       <a href="../../../../../com/yahoo/vespa/http/client/FeedClient.html" title="interface in com.yahoo.vespa.http.client">FeedClient</a>&nbsp;feedClient,
       <a href="http://download.java.net/jdk8/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&nbsp;numSent)</code>
<div class="block">Utility function that takes an array of XML documents and calls the FeedClient for each element.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yahoo/vespa/http/client/FeedClient.html#getStatsAsJson--">getStatsAsJson</a></span>()</code>
<div class="block">Returns stats about the cluster.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yahoo/vespa/http/client/FeedClient.html#stream-java.lang.String-java.lang.CharSequence-">stream</a></span>(<a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;documentId,
      <a href="http://download.java.net/jdk8/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;documentData)</code>
<div class="block">Streams a document to cluster(s).</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../com/yahoo/vespa/http/client/FeedClient.html#stream-java.lang.String-java.lang.CharSequence-java.lang.Object-">stream</a></span>(<a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;documentId,
      <a href="http://download.java.net/jdk8/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;documentData,
      <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;context)</code>
<div class="block">Streams a document to cluster(s).</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="stream-java.lang.String-java.lang.CharSequence-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stream</h4>
<pre>void&nbsp;<a href="../../../../../src-html/com/yahoo/vespa/http/client/FeedClient.html#line.31">stream</a>(<a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;documentId,
            <a href="http://download.java.net/jdk8/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;documentData)</pre>
<div class="block">Streams a document to cluster(s). If the pipeline and buffers are full, this call will be blocking.
 Documents might time out before they are sent. Failed documents are not retried.
 Don't call stream() after close is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>documentId</code> - Document id of the document.</dd>
<dd><code>documentData</code> - The document data as JSON or XML (as specified when using the factory to create the API)</dd>
</dl>
</li>
</ul>
<a name="stream-java.lang.String-java.lang.CharSequence-java.lang.Object-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stream</h4>
<pre>void&nbsp;<a href="../../../../../src-html/com/yahoo/vespa/http/client/FeedClient.html#line.41">stream</a>(<a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;documentId,
            <a href="http://download.java.net/jdk8/docs/api/java/lang/CharSequence.html?is-external=true" title="class or interface in java.lang">CharSequence</a>&nbsp;documentData,
            <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;context)</pre>
<div class="block">Streams a document to cluster(s). If the pipeline and buffers are full, this call will be blocking.
 Documents might time out before they are sent. Failed documents are not retried.
 Don't call stream() after close is called.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>documentId</code> - Document id of the document.</dd>
<dd><code>documentData</code> - The document data as JSON or XML (as specified when using the factory to create the API)</dd>
<dd><code>context</code> - Any context, will be accessible in the result of the callback.</dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>void&nbsp;<a href="../../../../../src-html/com/yahoo/vespa/http/client/FeedClient.html#line.59">close</a>()</pre>
<div class="block">Waits for all results to arrive and closes the FeedClient. Don't call any other method after calling close().
 Does not throw any exceptions.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="http://download.java.net/jdk8/docs/api/java/lang/AutoCloseable.html?is-external=true#close--" title="class or interface in java.lang">close</a></code>&nbsp;in interface&nbsp;<code><a href="http://download.java.net/jdk8/docs/api/java/lang/AutoCloseable.html?is-external=true" title="class or interface in java.lang">AutoCloseable</a></code></dd>
</dl>
</li>
</ul>
<a name="getStatsAsJson--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStatsAsJson</h4>
<pre><a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../../src-html/com/yahoo/vespa/http/client/FeedClient.html#line.65">getStatsAsJson</a>()</pre>
<div class="block">Returns stats about the cluster.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>JSON string with information about cluster.</dd>
</dl>
</li>
</ul>
<a name="feedJson-java.io.InputStream-com.yahoo.vespa.http.client.FeedClient-java.util.concurrent.atomic.AtomicInteger-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>feedJson</h4>
<pre>static&nbsp;void&nbsp;<a href="../../../../../src-html/com/yahoo/vespa/http/client/FeedClient.html#line.73">feedJson</a>(<a href="http://download.java.net/jdk8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;inputStream,
                     <a href="../../../../../com/yahoo/vespa/http/client/FeedClient.html" title="interface in com.yahoo.vespa.http.client">FeedClient</a>&nbsp;feedClient,
                     <a href="http://download.java.net/jdk8/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&nbsp;numSent)</pre>
<div class="block">Utility function that takes an array of JSON documents and calls the FeedClient for each element.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inputStream</code> - This can be a very large stream. The outer element is an array (of document operations).</dd>
<dd><code>feedClient</code> - The feedClient that will receive the document operations.</dd>
<dd><code>numSent</code> - increased per document sent to API (but no waiting for results).</dd>
</dl>
</li>
</ul>
<a name="feedXml-java.io.InputStream-com.yahoo.vespa.http.client.FeedClient-java.util.concurrent.atomic.AtomicInteger-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>feedXml</h4>
<pre>static&nbsp;void&nbsp;<a href="../../../../../src-html/com/yahoo/vespa/http/client/FeedClient.html#line.85">feedXml</a>(<a href="http://download.java.net/jdk8/docs/api/java/io/InputStream.html?is-external=true" title="class or interface in java.io">InputStream</a>&nbsp;inputStream,
                    <a href="../../../../../com/yahoo/vespa/http/client/FeedClient.html" title="interface in com.yahoo.vespa.http.client">FeedClient</a>&nbsp;feedClient,
                    <a href="http://download.java.net/jdk8/docs/api/java/util/concurrent/atomic/AtomicInteger.html?is-external=true" title="class or interface in java.util.concurrent.atomic">AtomicInteger</a>&nbsp;numSent)</pre>
<div class="block">Utility function that takes an array of XML documents and calls the FeedClient for each element.
 The XML document has to be formatted with line space on each line (like "regular" XML, but stricter
 than the specifications of XML).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>inputStream</code> - This can be a very large stream.</dd>
<dd><code>feedClient</code> - The feedClient that will receive the document operations.</dd>
<dd><code>numSent</code> - increased per document sent to API (but no waiting for results).</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../../com/yahoo/vespa/http/client/FeedClient.ResultCallback.html" title="interface in com.yahoo.vespa.http.client"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/yahoo/vespa/http/client/FeedClient.html" target="_top">Frames</a></li>
<li><a href="FeedClient.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>

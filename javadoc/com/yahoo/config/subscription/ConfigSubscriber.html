<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_60) on Fri Mar 31 07:36:40 UTC 2017 -->
<title>ConfigSubscriber</title>
<meta name="date" content="2017-03-31">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ConfigSubscriber";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/yahoo/config/subscription/ConfigSourceSet.html" title="class in com.yahoo.config.subscription"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.SingleSubscriber.html" title="interface in com.yahoo.config.subscription"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/yahoo/config/subscription/ConfigSubscriber.html" target="_top">Frames</a></li>
<li><a href="ConfigSubscriber.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.yahoo.config.subscription</div>
<h2 title="Class ConfigSubscriber" class="title">Class ConfigSubscriber</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>com.yahoo.config.subscription.ConfigSubscriber</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.29">ConfigSubscriber</a>
extends <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Used for subscribing to one or more configs. Can optionally be given a <a href="../../../../com/yahoo/config/subscription/ConfigSource.html" title="interface in com.yahoo.config.subscription"><code>ConfigSource</code></a> for the configs
 that will be used when <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribe-java.lang.Class-java.lang.String-"><code>subscribe(Class, String)</code></a> is called.

 <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribe-java.lang.Class-java.lang.String-"><code>subscribe(Class, String)</code></a> on the configs needed, call <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#nextConfig-long-"><code>nextConfig(long)</code></a> and get the config from the
 <a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription"><code>ConfigHandle</code></a> which <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribe-java.lang.Class-java.lang.String-"><code>subscribe(Class, String)</code></a> returned.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>5.1</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>vegardh</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.SingleSubscriber.html" title="interface in com.yahoo.config.subscription">ConfigSubscriber.SingleSubscriber</a>&lt;<a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.SingleSubscriber.html" title="type parameter in ConfigSubscriber.SingleSubscriber">T</a> extends <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config">ConfigInstance</a>&gt;</span></code>
<div class="block">Convenience interface for clients who only subscribe to one config.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.State.html" title="enum in com.yahoo.config.subscription">ConfigSubscriber.State</a></span></code>
<div class="block">The states of the subscriber.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="http://download.java.net/jdk8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../com/yahoo/config/subscription/ConfigSourceSet.html" title="class in com.yahoo.config.subscription">ConfigSourceSet</a>,com.yahoo.config.subscription.impl.JRTConfigRequester&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#requesters">requesters</a></span></code>
<div class="block">Reuse requesters for equal source sets, limit number if many subscriptions.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://download.java.net/jdk8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription">ConfigHandle</a>&lt;? extends <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config">ConfigInstance</a>&gt;&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscriptionHandles">subscriptionHandles</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#ConfigSubscriber--">ConfigSubscriber</a></span>()</code>
<div class="block">Constructs a new subscriber.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#ConfigSubscriber-com.yahoo.config.subscription.ConfigSource-">ConfigSubscriber</a></span>(<a href="../../../../com/yahoo/config/subscription/ConfigSource.html" title="interface in com.yahoo.config.subscription">ConfigSource</a>&nbsp;source)</code>
<div class="block">Constructs a new subscriber with the given source.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#checkStateBeforeSubscribe--">checkStateBeforeSubscribe</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#close--">close</a></span>()</code>
<div class="block">Closes all open <code>ConfigSubscription</code>s</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#closeRequesters--">closeRequesters</a></span>()</code>
<div class="block">Closes all open requesters</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#finalize--">finalize</a></span>()</code>
<div class="block">Finalizer to ensure that we do not leak resources on reconfig.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#getGeneration--">getGeneration</a></span>()</code>
<div class="block">The current generation of configs known by this subscriber.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/yahoo/config/subscription/ConfigSource.html" title="interface in com.yahoo.config.subscription">ConfigSource</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#getSource--">getSource</a></span>()</code>
<div class="block">The source used by this subscriber.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#isClosed--">isClosed</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#nextConfig--">nextConfig</a></span>()</code>
<div class="block">Use this for waiting for a new config that has changed.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#nextConfig-long-">nextConfig</a></span>(long&nbsp;timeoutMillis)</code>
<div class="block">Use this for waiting for a new config that has changed, with the given timeout.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#nextGeneration--">nextGeneration</a></span>()</code>
<div class="block">Use this for waiting for a new config generation.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#nextGeneration-long-">nextGeneration</a></span>(long&nbsp;timeoutMillis)</code>
<div class="block">Use this for waiting for a new config generation, with the given timeout

 Returns true if:

 It is the first time nextGeneration() is called on this subscriber, and the framework has fetched config for all subscriptions.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#reload-long-">reload</a></span>(long&nbsp;generation)</code>
<div class="block">Sets all subscriptions under this subscriber to have the given generation.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="http://download.java.net/jdk8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../com/yahoo/config/subscription/ConfigSourceSet.html" title="class in com.yahoo.config.subscription">ConfigSourceSet</a>,com.yahoo.config.subscription.impl.JRTConfigRequester&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#requesters--">requesters</a></span>()</code>
<div class="block">Implementation detail, do not use.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="http://download.java.net/jdk8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#startConfigThread-java.lang.Runnable-">startConfigThread</a></span>(<a href="http://download.java.net/jdk8/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;runnable)</code>
<div class="block">Convenience method to start a daemon thread called "Vespa config thread" with the given runnable.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>protected <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.State.html" title="enum in com.yahoo.config.subscription">ConfigSubscriber.State</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#state--">state</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config">ConfigInstance</a>&gt;<br><a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription">ConfigHandle</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribe-java.lang.Class-java.lang.String-">subscribe</a></span>(<a href="http://download.java.net/jdk8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;configClass,
         <a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;configId)</code>
<div class="block">Subscribes on the given type of <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config"><code>ConfigInstance</code></a> with the given config id.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config">ConfigInstance</a>&gt;<br><a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription">ConfigHandle</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribe-java.lang.Class-java.lang.String-long-">subscribe</a></span>(<a href="http://download.java.net/jdk8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;configClass,
         <a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;configId,
         long&nbsp;timeoutMillis)</code>
<div class="block">Subscribes on the given type of <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config"><code>ConfigInstance</code></a> with the given config id and subscribe timeout.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>&lt;T extends <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config">ConfigInstance</a>&gt;<br><a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription">ConfigHandle</a>&lt;T&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribe-com.yahoo.config.subscription.ConfigSubscriber.SingleSubscriber-java.lang.Class-java.lang.String-">subscribe</a></span>(<a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.SingleSubscriber.html" title="interface in com.yahoo.config.subscription">ConfigSubscriber.SingleSubscriber</a>&lt;T&gt;&nbsp;singleSubscriber,
         <a href="http://download.java.net/jdk8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;configClass,
         <a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;configId)</code>
<div class="block">Use this convenience method if you only want to subscribe on <em>one</em> config, and want generic error handling.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribeAndHandleErrors-com.yahoo.config.subscription.impl.ConfigSubscription-com.yahoo.vespa.config.ConfigKey-com.yahoo.config.subscription.ConfigHandle-com.yahoo.vespa.config.TimingValues-">subscribeAndHandleErrors</a></span>(com.yahoo.config.subscription.impl.ConfigSubscription&lt;?&gt;&nbsp;sub,
                        com.yahoo.vespa.config.ConfigKey&lt;?&gt;&nbsp;configKey,
                        <a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription">ConfigHandle</a>&lt;?&gt;&nbsp;handle,
                        com.yahoo.vespa.config.TimingValues&nbsp;timingValues)</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#throwIfExceptionSet-com.yahoo.config.subscription.impl.ConfigSubscription-">throwIfExceptionSet</a></span>(com.yahoo.config.subscription.impl.ConfigSubscription&lt;? extends <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config">ConfigInstance</a>&gt;&nbsp;sub)</code>
<div class="block">If a <code>ConfigSubscription</code> has its exception set, reset that field and throw it</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#toString--">toString</a></span>()</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="subscriptionHandles">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscriptionHandles</h4>
<pre>protected&nbsp;<a href="http://download.java.net/jdk8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util">List</a>&lt;<a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription">ConfigHandle</a>&lt;? extends <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config">ConfigInstance</a>&gt;&gt; <a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.33">subscriptionHandles</a></pre>
</li>
</ul>
<a name="requesters">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>requesters</h4>
<pre>protected&nbsp;<a href="http://download.java.net/jdk8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../com/yahoo/config/subscription/ConfigSourceSet.html" title="class in com.yahoo.config.subscription">ConfigSourceSet</a>,com.yahoo.config.subscription.impl.JRTConfigRequester&gt; <a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.40">requesters</a></pre>
<div class="block">Reuse requesters for equal source sets, limit number if many subscriptions.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ConfigSubscriber--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ConfigSubscriber</h4>
<pre>public&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.54">ConfigSubscriber</a>()</pre>
<div class="block">Constructs a new subscriber. The default Vespa network config source will be used, which is the address of
 a config proxy (part of vespa_base) running locally. It can also be changed by setting VESPA_CONFIG_SOURCES.</div>
</li>
</ul>
<a name="ConfigSubscriber-com.yahoo.config.subscription.ConfigSource-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ConfigSubscriber</h4>
<pre>public&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.63">ConfigSubscriber</a>(<a href="../../../../com/yahoo/config/subscription/ConfigSource.html" title="interface in com.yahoo.config.subscription">ConfigSource</a>&nbsp;source)</pre>
<div class="block">Constructs a new subscriber with the given source.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - a <a href="../../../../com/yahoo/config/subscription/ConfigSource.html" title="interface in com.yahoo.config.subscription"><code>ConfigSource</code></a> that will be used when <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribe-java.lang.Class-java.lang.String-"><code>subscribe(Class, String)</code></a> is called.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="subscribe-java.lang.Class-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre>public&nbsp;&lt;T extends <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config">ConfigInstance</a>&gt;&nbsp;<a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription">ConfigHandle</a>&lt;T&gt;&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.78">subscribe</a>(<a href="http://download.java.net/jdk8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;configClass,
                                                            <a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;configId)</pre>
<div class="block">Subscribes on the given type of <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config"><code>ConfigInstance</code></a> with the given config id.

 The method blocks until the first config is ready to be fetched with <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#nextConfig--"><code>nextConfig()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>configClass</code> - The class, typically generated from a def-file using config-class-plugin</dd>
<dd><code>configId</code> - Identifies the service in vespa-services.xml, or null if you are using a local <a href="../../../../com/yahoo/config/subscription/ConfigSource.html" title="interface in com.yahoo.config.subscription"><code>ConfigSource</code></a> which does not use config id.
 Also supported: raw:, file:, dir: or jar: config id which addresses config locally in the same way.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a ConfigHandle</dd>
</dl>
</li>
</ul>
<a name="subscribe-java.lang.Class-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre>public&nbsp;&lt;T extends <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config">ConfigInstance</a>&gt;&nbsp;<a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription">ConfigHandle</a>&lt;T&gt;&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.92">subscribe</a>(<a href="http://download.java.net/jdk8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;configClass,
                                                            <a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;configId,
                                                            long&nbsp;timeoutMillis)</pre>
<div class="block">Subscribes on the given type of <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config"><code>ConfigInstance</code></a> with the given config id and subscribe timeout.

 The method blocks until the first config is ready to be fetched with <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#nextConfig--"><code>nextConfig()</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>configClass</code> - The class, typically generated from a def-file using config-class-plugin</dd>
<dd><code>configId</code> - Identifies the service in vespa-services.xml, or possibly raw:, file:, dir: or jar: type config which addresses config locally.</dd>
<dd><code>timeoutMillis</code> - The time to wait for a config to become available, in milliseconds</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a ConfigHandle</dd>
</dl>
</li>
</ul>
<a name="checkStateBeforeSubscribe--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkStateBeforeSubscribe</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.106">checkStateBeforeSubscribe</a>()</pre>
</li>
</ul>
<a name="subscribeAndHandleErrors-com.yahoo.config.subscription.impl.ConfigSubscription-com.yahoo.vespa.config.ConfigKey-com.yahoo.config.subscription.ConfigHandle-com.yahoo.vespa.config.TimingValues-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribeAndHandleErrors</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.111">subscribeAndHandleErrors</a>(com.yahoo.config.subscription.impl.ConfigSubscription&lt;?&gt;&nbsp;sub,
                                        com.yahoo.vespa.config.ConfigKey&lt;?&gt;&nbsp;configKey,
                                        <a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription">ConfigHandle</a>&lt;?&gt;&nbsp;handle,
                                        com.yahoo.vespa.config.TimingValues&nbsp;timingValues)</pre>
</li>
</ul>
<a name="nextConfig--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextConfig</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.142">nextConfig</a>()</pre>
<div class="block">Use this for waiting for a new config that has changed.

 Returns true if:

 It is the first time nextConfig() is called on this subscriber, and the framework has fetched config for all subscriptions. (Typically a first time config.)

 or

 All configs for the subscriber have a new generation since the last time nextConfig() was called, AND they have the same generation AND there is a change in config for at least one
 of the configs. (Typically calls for a reconfig.)

 You can check which configs are changed by calling <a href="../../../../com/yahoo/config/subscription/ConfigHandle.html#isChanged--"><code>ConfigHandle.isChanged()</code></a> on the handle you got from <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribe-java.lang.Class-java.lang.String-"><code>subscribe(Class, String)</code></a>.

 If the call times out (timeout 1000 ms), no handle will have the changed flag set. You should not configure anything then.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a config/reconfig of your system should happen</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/yahoo/config/subscription/ConfigInterruptedException.html" title="class in com.yahoo.config.subscription">ConfigInterruptedException</a></code> - if thread performing this call interrupted.</dd>
</dl>
</li>
</ul>
<a name="nextConfig-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextConfig</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.166">nextConfig</a>(long&nbsp;timeoutMillis)</pre>
<div class="block">Use this for waiting for a new config that has changed, with the given timeout.

 Returns true if:

 It is the first time nextConfig() is called on this subscriber, and the framework has fetched config for all subscriptions. (Typically a first time config.)

 or

 All configs for the subscriber have a new generation since the last time nextConfig() was called, AND they have the same generation AND there is a change in config for at least one
 of the configs. (Typically calls for a reconfig.)

 You can check which configs are changed by calling <a href="../../../../com/yahoo/config/subscription/ConfigHandle.html#isChanged--"><code>ConfigHandle.isChanged()</code></a> on the handle you got from <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribe-java.lang.Class-java.lang.String-"><code>subscribe(Class, String)</code></a>.

 If the call times out, no handle will have the changed flag set. You should not configure anything then.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeoutMillis</code> - timeout in milliseconds</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if a config/reconfig of your system should happen</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/yahoo/config/subscription/ConfigInterruptedException.html" title="class in com.yahoo.config.subscription">ConfigInterruptedException</a></code> - if thread performing this call interrupted.</dd>
</dl>
</li>
</ul>
<a name="nextGeneration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextGeneration</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.190">nextGeneration</a>()</pre>
<div class="block">Use this for waiting for a new config generation.

 Returns true if:

 It is the first time nextGeneration() is called on this subscriber, and the framework has fetched config for all subscriptions. (Typically a first time config.)

 or

 All configs for the subscriber have a new generation since the last time nextGeneration() was called, AND they have the same generation. Note that
 none of the configs have to be changed, but they might be.


 You can check which configs are changed by calling <a href="../../../../com/yahoo/config/subscription/ConfigHandle.html#isChanged--"><code>ConfigHandle.isChanged()</code></a> on the handle you got from <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribe-java.lang.Class-java.lang.String-"><code>subscribe(Class, String)</code></a>.

 If the call times out (timeout 1000 ms), no handle will have the changed flag set. You should not configure anything then.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if generations for all configs have been updated.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/yahoo/config/subscription/ConfigInterruptedException.html" title="class in com.yahoo.config.subscription">ConfigInterruptedException</a></code> - if thread performing this call interrupted.</dd>
</dl>
</li>
</ul>
<a name="nextGeneration-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nextGeneration</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.214">nextGeneration</a>(long&nbsp;timeoutMillis)</pre>
<div class="block">Use this for waiting for a new config generation, with the given timeout

 Returns true if:

 It is the first time nextGeneration() is called on this subscriber, and the framework has fetched config for all subscriptions. (Typically a first time config.)

 or

 All configs for the subscriber have a new generation since the last time nextGeneration() was called, AND they have the same generation. Note that
 none of the configs have to be changed, but they might be.

 You can check which configs are changed by calling <a href="../../../../com/yahoo/config/subscription/ConfigHandle.html#isChanged--"><code>ConfigHandle.isChanged()</code></a> on the handle you got from <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#subscribe-java.lang.Class-java.lang.String-"><code>subscribe(Class, String)</code></a>.

 If the call times out (timeout 1000 ms), no handle will have the changed flag set. You should not configure anything then.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>timeoutMillis</code> - timeout in milliseconds</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if generations for all configs have been updated.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../com/yahoo/config/subscription/ConfigInterruptedException.html" title="class in com.yahoo.config.subscription">ConfigInterruptedException</a></code> - if thread performing this call interrupted.</dd>
</dl>
</li>
</ul>
<a name="throwIfExceptionSet-com.yahoo.config.subscription.impl.ConfigSubscription-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>throwIfExceptionSet</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.280">throwIfExceptionSet</a>(com.yahoo.config.subscription.impl.ConfigSubscription&lt;? extends <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config">ConfigInstance</a>&gt;&nbsp;sub)</pre>
<div class="block">If a <code>ConfigSubscription</code> has its exception set, reset that field and throw it</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sub</code> - <code>ConfigSubscription</code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.299">close</a>()</pre>
<div class="block">Closes all open <code>ConfigSubscription</code>s</div>
</li>
</ul>
<a name="closeRequesters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeRequesters</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.311">closeRequesters</a>()</pre>
<div class="block">Closes all open requesters</div>
</li>
</ul>
<a name="toString--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;<a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.318">toString</a>()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a></code>&nbsp;in class&nbsp;<code><a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
</dl>
</li>
</ul>
<a name="startConfigThread-java.lang.Runnable-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startConfigThread</h4>
<pre>public&nbsp;<a href="http://download.java.net/jdk8/docs/api/java/lang/Thread.html?is-external=true" title="class or interface in java.lang">Thread</a>&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.333">startConfigThread</a>(<a href="http://download.java.net/jdk8/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a>&nbsp;runnable)</pre>
<div class="block">Convenience method to start a daemon thread called "Vespa config thread" with the given runnable. If you want the runnable to
 handle a <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html" title="class in com.yahoo.config.subscription"><code>ConfigSubscriber</code></a> or <a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription"><code>ConfigHandle</code></a> you have declared locally outside, declare them as final to make it work.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>runnable</code> - a class implementing <a href="http://download.java.net/jdk8/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang"><code>Runnable</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the newly started thread</dd>
</dl>
</li>
</ul>
<a name="state--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>state</h4>
<pre>protected&nbsp;<a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.State.html" title="enum in com.yahoo.config.subscription">ConfigSubscriber.State</a>&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.341">state</a>()</pre>
</li>
</ul>
<a name="reload-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reload</h4>
<pre>public&nbsp;void&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.351">reload</a>(long&nbsp;generation)</pre>
<div class="block">Sets all subscriptions under this subscriber to have the given generation. This is intended for testing, to emulate a
 reload-config operation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>generation</code> - a generation number</dd>
</dl>
</li>
</ul>
<a name="getSource--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSource</h4>
<pre>public&nbsp;<a href="../../../../com/yahoo/config/subscription/ConfigSource.html" title="interface in com.yahoo.config.subscription">ConfigSource</a>&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.362">getSource</a>()</pre>
<div class="block">The source used by this subscriber.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../../../../com/yahoo/config/subscription/ConfigSource.html" title="interface in com.yahoo.config.subscription"><code>ConfigSource</code></a> used by this subscriber</dd>
</dl>
</li>
</ul>
<a name="requesters--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>requesters</h4>
<pre>public&nbsp;<a href="http://download.java.net/jdk8/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="../../../../com/yahoo/config/subscription/ConfigSourceSet.html" title="class in com.yahoo.config.subscription">ConfigSourceSet</a>,com.yahoo.config.subscription.impl.JRTConfigRequester&gt;&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.370">requesters</a>()</pre>
<div class="block">Implementation detail, do not use.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>requesters</dd>
</dl>
</li>
</ul>
<a name="isClosed--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isClosed</h4>
<pre>public&nbsp;boolean&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.374">isClosed</a>()</pre>
</li>
</ul>
<a name="subscribe-com.yahoo.config.subscription.ConfigSubscriber.SingleSubscriber-java.lang.Class-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>subscribe</h4>
<pre>public&nbsp;&lt;T extends <a href="../../../../com/yahoo/config/ConfigInstance.html" title="class in com.yahoo.config">ConfigInstance</a>&gt;&nbsp;<a href="../../../../com/yahoo/config/subscription/ConfigHandle.html" title="class in com.yahoo.config.subscription">ConfigHandle</a>&lt;T&gt;&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.392">subscribe</a>(<a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.SingleSubscriber.html" title="interface in com.yahoo.config.subscription">ConfigSubscriber.SingleSubscriber</a>&lt;T&gt;&nbsp;singleSubscriber,
                                                            <a href="http://download.java.net/jdk8/docs/api/java/lang/Class.html?is-external=true" title="class or interface in java.lang">Class</a>&lt;T&gt;&nbsp;configClass,
                                                            <a href="http://download.java.net/jdk8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;configId)</pre>
<div class="block">Use this convenience method if you only want to subscribe on <em>one</em> config, and want generic error handling.
 Implement <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.SingleSubscriber.html" title="interface in com.yahoo.config.subscription"><code>ConfigSubscriber.SingleSubscriber</code></a> and pass to this method.
 You will get initial config, and a config thread will be started. The method will throw in your thread if initial
 configuration fails, and the config thread will print a generic error message (but continue) if it fails thereafter. The config
 thread will stop if you <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#close--"><code>close()</code></a> this <a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html" title="class in com.yahoo.config.subscription"><code>ConfigSubscriber</code></a>.</div>
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>T</code> - ConfigInstance type</dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>singleSubscriber</code> - The object to receive config</dd>
<dd><code>configClass</code> - The class, typically generated from a def-file using config-class-plugin</dd>
<dd><code>configId</code> - Identifies the service in vespa-services.xml</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The handle of the config</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.html#startConfigThread-java.lang.Runnable-"><code>startConfigThread(Runnable)</code></a></dd>
</dl>
</li>
</ul>
<a name="getGeneration--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGeneration</h4>
<pre>public&nbsp;long&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.421">getGeneration</a>()</pre>
<div class="block">The current generation of configs known by this subscriber.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the current generation of configs known by this subscriber</dd>
</dl>
</li>
</ul>
<a name="finalize--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>finalize</h4>
<pre>protected&nbsp;void&nbsp;<a href="../../../../src-html/com/yahoo/config/subscription/ConfigSubscriber.html#line.439">finalize</a>()
                 throws <a href="http://download.java.net/jdk8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></pre>
<div class="block">Finalizer to ensure that we do not leak resources on reconfig. Though finalizers are bad,
 this is not a performance critical object as it will be deconstructed typically container reconfig.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a></code>&nbsp;in class&nbsp;<code><a href="http://download.java.net/jdk8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://download.java.net/jdk8/docs/api/java/lang/Throwable.html?is-external=true" title="class or interface in java.lang">Throwable</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/yahoo/config/subscription/ConfigSourceSet.html" title="class in com.yahoo.config.subscription"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/yahoo/config/subscription/ConfigSubscriber.SingleSubscriber.html" title="interface in com.yahoo.config.subscription"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/yahoo/config/subscription/ConfigSubscriber.html" target="_top">Frames</a></li>
<li><a href="ConfigSubscriber.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
